{% extends "layout.html" %}

{% block script %}
<script>
window.onload = function () {

var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	height: 500,
	zoomEnabled: true,
	title:{
		text: "Weight of Trash Clean Up vs Total Hours Spent",
		fontSize: 30
	},
	axisX: {
		title:"Time (hrs)",
		titleFontSize: 20,
		labelFontSize: 16,
		minimum: 0
	},
	axisY:{
		title: "Weight of Trash (lbs)",
		includeZero: true,
		titleFontSize: 20,
		labelFontSize: 16,
		minimum: 0
	},
	data: [{type: "scatter",name: "3 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 7.5, y: 40 },{ x: 7.5, y: 48 },{ x: 2.25, y: 4 },{ x: 3, y: 12 },{ x: 3, y: 20 },{ x: 12, y: 2 },{ x: 3, y: 2 },{ x: 4.5, y: 2 },{ x: 4.5, y: 2.5 },{ x: 6, y: 4 },{ x: 3, y: 2 },{ x: 9, y: 5 },{ x: 9, y: 3 }]},{type: "scatter",name: "2 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 2, y: 22 },{ x: 3, y: 40 },{ x: 5, y: 18 },{ x: 1.5, y: 5 },{ x: 3, y: 10 },{ x: 3, y: 15 },{ x: 2, y: 8 },{ x: 4, y: 5 },{ x: 4, y: 10 },{ x: 2, y: 10 },{ x: 3, y: 20 },{ x: 8, y: 30 },{ x: 3, y: 7 },{ x: 3, y: 15 },{ x: 4, y: 10 },{ x: 3, y: 5 },{ x: 2, y: 10 },{ x: 2, y: 10 },{ x: 2, y: 40 },{ x: 2, y: 10 },{ x: 2.5, y: 7 },{ x: 4, y: 20 },{ x: 4, y: 0.5 },{ x: 2, y: 30 },{ x: 2.5, y: 3 },{ x: 4, y: 4 },{ x: 5, y: 6 },{ x: 2.5, y: 5 },{ x: 0, y: 0 },{ x: 4, y: 25 },{ x: 4, y: 50 },{ x: 5, y: 45 },{ x: 6, y: 13 },{ x: 2, y: 10 },{ x: 3.3, y: 25 },{ x: 2, y: 20 },{ x: 1.5, y: 20 },{ x: 1, y: 50 },{ x: 1.5, y: 2 },{ x: 2, y: 5 },{ x: 1, y: 26 },{ x: 1, y: 2 },{ x: 3, y: 3 },{ x: 1, y: 2 },{ x: 4, y: 55 },{ x: 3, y: 15 },{ x: 4, y: 12 }]},{type: "scatter",name: "1 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 1, y: 40 },{ x: 2.75, y: 20 },{ x: 1, y: 10 },{ x: 5.3, y: 30 },{ x: 3, y: 30 },{ x: 2, y: 40 },{ x: 1.75, y: 2.5 },{ x: 3.5, y: 20 },{ x: 1.5, y: 49 },{ x: 2.5, y: 20 },{ x: 1.5, y: 20 },{ x: 2, y: 40 },{ x: 2.25, y: 10 },{ x: 2.25, y: 15 },{ x: 1.5, y: 10 },{ x: 1, y: 10 },{ x: 2.75, y: 50 },{ x: 1, y: 50 },{ x: 1, y: 20 },{ x: 0.5, y: 10 },{ x: 1, y: 10 },{ x: 3.5, y: 10 },{ x: 2.5, y: 10 },{ x: 1, y: 40 },{ x: 3, y: 10 },{ x: 1, y: 10 },{ x: 3, y: 10 },{ x: 0.5, y: 10 },{ x: 4, y: 30 },{ x: 2.75, y: 20 },{ x: 2.5, y: 10 },{ x: 1.5, y: 10 },{ x: 2, y: 60 },{ x: 2.75, y: 3 },{ x: 1, y: 5 },{ x: 2.5, y: 10 },{ x: 1, y: 5 },{ x: 1.5, y: 40 },{ x: 0.25, y: 2 },{ x: 1, y: 10 },{ x: 1.25, y: 20 },{ x: 5, y: 43 },{ x: 5.75, y: 70 },{ x: 0.75, y: 10 },{ x: 2, y: 10 },{ x: 2.5, y: 50 },{ x: 3, y: 30 },{ x: 1.5, y: 20 },{ x: 2, y: 60 },{ x: 1, y: 10 },{ x: 1, y: 20 },{ x: 5, y: 60 },{ x: 2, y: 30 },{ x: 3, y: 2 },{ x: 5, y: 15 },{ x: 1.75, y: 30 },{ x: 3, y: 10 },{ x: 2.25, y: 10 },{ x: 1, y: 40 },{ x: 3, y: 20 },{ x: 2, y: 5 },{ x: 1, y: 20 },{ x: 1, y: 10 },{ x: 2, y: 5 },{ x: 2, y: 15 },{ x: 0.5, y: 10 },{ x: 2.25, y: 25 },{ x: 2, y: 15 },{ x: 1, y: 10 },{ x: 0.5, y: 3 },{ x: 2, y: 25 },{ x: 0.5, y: 3 },{ x: 1, y: 10 },{ x: 6, y: 35 },{ x: 2, y: 3.5 },{ x: 2.25, y: 9 },{ x: 1, y: 0 },{ x: 2.5, y: 9 },{ x: 1, y: 20 },{ x: 1.5, y: 10 },{ x: 1.5, y: 3 },{ x: 1, y: 5 },{ x: 1, y: 10 },{ x: 1, y: 20 },{ x: 3.5, y: 10.5 },{ x: 2, y: 2 },{ x: 3.5, y: 5 },{ x: 3, y: 40 },{ x: 2.25, y: 15 },{ x: 2.25, y: 6 },{ x: 2.5, y: 11.25 },{ x: 1, y: 2 },{ x: 3.5, y: 14 },{ x: 1.25, y: 2.5 },{ x: 1, y: 9 },{ x: 3, y: 6.6 },{ x: 3, y: 6.4 },{ x: 8, y: 9 },{ x: 8, y: 14 },{ x: 7.75, y: 12 },{ x: 7.75, y: 11 },{ x: 2.75, y: 2 },{ x: 2.75, y: 2 },{ x: 3.5, y: 2 },{ x: 3.5, y: 2 },{ x: 6.75, y: 12 },{ x: 6.75, y: 10 },{ x: 3, y: 1 },{ x: 3, y: 1 },{ x: 2.25, y: 5 },{ x: 2.25, y: 8 },{ x: 8, y: 11 },{ x: 8, y: 5 },{ x: 8, y: 1 },{ x: 8, y: 2 },{ x: 9.25, y: 30 },{ x: 9.25, y: 25 },{ x: 2.25, y: 4 },{ x: 2.25, y: 6 },{ x: 3.5, y: 18 },{ x: 3.5, y: 18 },{ x: 7.5, y: 24 },{ x: 7.5, y: 30 },{ x: 10.5, y: 24 },{ x: 10.5, y: 24 },{ x: 7, y: 4 },{ x: 7, y: 5 },{ x: 7.5, y: 2 },{ x: 7.5, y: 2 },{ x: 0.25, y: 5 },{ x: 1, y: 3 },{ x: 1, y: 3 },{ x: 3, y: 8 },{ x: 1.5, y: 5 },{ x: 8, y: 15 },{ x: 8, y: 15 },{ x: 4, y: 5 },{ x: 4, y: 5 },{ x: 7, y: 3 },{ x: 7, y: 3 },{ x: 8.75, y: 15 },{ x: 8.75, y: 10 },{ x: 8, y: 10 },{ x: 8, y: 10 },{ x: 2, y: 7.6 },{ x: 2.75, y: 3.6 },{ x: 1, y: 3 },{ x: 3, y: 7.7 },{ x: 1.5, y: 10 },{ x: 2.25, y: 7.4 },{ x: 6.5, y: 10 },{ x: 6.5, y: 10 },{ x: 7.5, y: 10 },{ x: 7.5, y: 10 },{ x: 3, y: 7.7 },{ x: 7.5, y: 25 },{ x: 7.5, y: 25 },{ x: 3.25, y: 4 },{ x: 3.25, y: 4 },{ x: 2.15, y: 10.4 },{ x: 2, y: 2 },{ x: 2, y: 1.8 },{ x: 8, y: 3 },{ x: 7.5, y: 3 },{ x: 8, y: 15 },{ x: 8, y: 15 },{ x: 7.75, y: 15 },{ x: 7.75, y: 10 },{ x: 2.15, y: 10 },{ x: 8.25, y: 15 },{ x: 8.25, y: 15 },{ x: 7.75, y: 5 },{ x: 7.75, y: 10 },{ x: 7.5, y: 15 },{ x: 7.5, y: 15 },{ x: 2, y: 1.8 },{ x: 0.5, y: 40 },{ x: 1, y: 5 },{ x: 2.15, y: 10 },{ x: 2, y: 4 },{ x: 3, y: 52 },{ x: 1, y: 8.1 },{ x: 1.2, y: 3 },{ x: 4, y: 4 },{ x: 3.5, y: 10 },{ x: 3.5, y: 10 },{ x: 7.5, y: 10 },{ x: 7.5, y: 5 },{ x: 3, y: 3 },{ x: 1, y: 1 },{ x: 1, y: 1 },{ x: 8, y: 20 },{ x: 8, y: 25 },{ x: 1, y: 2 },{ x: 1, y: 2 },{ x: 8.25, y: 20 },{ x: 8.25, y: 20 },{ x: 2, y: 3 },{ x: 2, y: 4 },{ x: 9.75, y: 25 },{ x: 9.75, y: 30 },{ x: 3, y: 5 },{ x: 3, y: 5 },{ x: 3, y: 3 },{ x: 5.75, y: 5 },{ x: 5.75, y: 5 },{ x: 1, y: 2 },{ x: 10, y: 10 },{ x: 1, y: 5 },{ x: 1, y: 5 },{ x: 2.05, y: 6.8 },{ x: 2, y: 3 },{ x: 7.5, y: 23.4 },{ x: 2, y: 5 },{ x: 2.5, y: 8 },{ x: 1.8, y: 5.2 },{ x: 2, y: 5.2 },{ x: 3.5, y: 23.5 },{ x: 1.5, y: 13.2 },{ x: 1, y: 2 },{ x: 1, y: 2 },{ x: 1, y: 3 },{ x: 2, y: 3 }]},{type: "scatter",name: "5 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 5, y: 50 },{ x: 4, y: 50 }]},{type: "scatter",name: "25 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 75, y: 150 }]},{type: "scatter",name: "15 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 15, y: 150 },{ x: 30, y: 70 }]},{type: "scatter",name: "14 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 14, y: 2 }]},{type: "scatter",name: "6 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 6, y: 35 },{ x: 9, y: 10 },{ x: 1.5, y: 130 }]},{type: "scatter",name: "10 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 5, y: 8.5 },{ x: 25, y: 120 }]},{type: "scatter",name: "11 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 8.25, y: 15 },{ x: 13.75, y: 15 },{ x: 22, y: 50 },{ x: 20, y: 47 }]},{type: "scatter",name: "4 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 8, y: 15 },{ x: 8, y: 10 },{ x: 6, y: 2 },{ x: 3, y: 1 },{ x: 12, y: 100 },{ x: 8, y: 5 }]},{type: "scatter",name: "20 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 30, y: 30 }]},{type: "scatter",name: "12 People",showInLegend: true,indexLabelFontSize: 16,toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",dataPoints: [{ x: 22, y: 45 }]}
        /*data: [{
		type: "scatter",
		toolTipContent: "<span style=\"color:red \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",
		name: "1 Person",
		indexLabelFontSize: 16,
		showInLegend: true,
		dataPoints: [
			{{ chart_data }}
		]
	},
	{
		type: "scatter",
		name: "2 People",
		showInLegend: true, 
		indexLabelFontSize: 16,
		toolTipContent: "<span style=\"color:#4F81BC \"><b>{name}</b></span><br/><b> Time: </b> {x} hrs<br/><b> Weight of Trash </b></span> {y} lbs",
		dataPoints: [
			{ x: 19, y: 200 },
			{ x: 1000, y: 11000 },
			{ x: 35, y: 330 },
			{ x: 32, y: 190 },
			{ x: 29, y: 189 },
			{ x: 22, y: 150 },
			{ x: 27, y: 200 },
			{ x: 26, y: 190 },
			{ x: 24, y: 225 },
			{ x: 33, y: 330 },
			{ x: 34, y: 250 },
			{ x: 30, y: 120 },
			{ x: 37, y: 153 },
			{ x: 24, y: 196 }
		]
	}*/
	]
});
chart.render();
/*calculateTrendLine(chart);
    function calculateTrendLine(chart){
        const totalPoints = chart.data[0].dataPoints.concat(chart.data[1].dataPoints) 
        var a, b, c, d, e, slope, yIntercept;
        var xSum = 0, ySum = 0, xySum = 0, xSquare = 0, dpsLength = totalPoints.length;
		
        for(var i = 0; i < dpsLength; i++)
            xySum += (totalPoints[i].x * totalPoints[i].y)
        a = xySum * dpsLength;

        for(var i = 0; i < dpsLength; i++){
            xSum += totalPoints[i].x;
            ySum += totalPoints[i].y;
        }
        b = xSum * ySum;

        for(var i = 0; i < dpsLength; i++)
            xSquare += Math.pow(totalPoints[i].x, 2);
        c = dpsLength * xSquare;

        d = Math.pow(xSum, 2);

        slope = (a-b)/(c-d);

        e = slope * xSum;

        yIntercept = (ySum - e) / dpsLength;

        var startPoint = getTrendLinePoint(totalPoints[0].x, slope, yIntercept);

        var endPoint = getTrendLinePoint(totalPoints[dpsLength-1].x, slope, yIntercept);

        chart.addTo("data",{
            type: "line", //Line series showing trend
            markerSize: 0,
            dataPoints: [startPoint, endPoint]
        });
    }

    function getTrendLinePoint(x, slope, intercept){
        return {x: x, y: ((slope * x) + intercept)};
    }
}*/
</script>
{% endblock %}

{% block title %}
Statistics
{% endblock %}

{% block content %}
<div id="blue-bg">
  <table id="chart">
    <caption id="caption">WATERSHED BRIGADE CUMALATIVE CLEAN-UP CHART 2021</caption>
    <tr id="heading_gradient">
      <th id="month_heading" class="chart_headings">MONTH</th>
      <th class="chart_headings"># OF SITES CLEANED</th>
      <th class="chart_headings"># OF VOLUNTEERS</th>
      <th class="chart_headings">TOTAL LBS OF TRASH</th>
    </tr>
    {{ table }}
  </table>
</div>
<p>{{ test }}</p>
<div id="chartContainer" style="height: 370px; width: 100%;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
{% endblock %}
